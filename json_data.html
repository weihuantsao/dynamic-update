<script type="text/javascript">
/*
var raw_data = [{
        type: 'spline',
        name: '設備1',
        data: [
            [1458259200000, 105.92],
            [1458518400000, 105.91],
            [1458604800000, 106.72],
            [1458691200000, 106.13],
            [1458777600000, 105.67],
            [1459123200000, 105.19],
            [1459209600000, 107.68],
            [1459296000000, 109.56]
        ]
    }, {
        name: '設備2',
        data: [
            [1462492800000, 92.72],
            [1462752000000, 92.79],
            [1462838400000, 93.42],
            [1462924800000, 92.51],
            [1463011200000, 90.34],
            [1463097600000, 90.52],
            [1463356800000, 93.88],
            [1463443200000, 93.49],
            [1463529600000, 94.56],
            [1463616000000, 94.20],
            [1463702400000, 95.22],
            [1463961600000, 96.43],
            [1464048000000, 97.90],
            [1464134400000, 99.62],
            [1464220800000, 100.41],
            [1464307200000, 100.35],
            [1464652800000, 99.86],
            //Jun 2016
            [1464739200000, 98.46]
        ]
    }, {
        name: '設備3',
        data: [
            [1454284800000, 52.00],
            [1454371200000, 64.65],
            [1454457600000, 26.95],
            [1454544000000, 108.01],
            [1454630400000, 83.57],
            [1454889600000, 82.74],
            [1454976000000, 78.11],
            [1455062400000, 84.12],
            [1455148800000, 83.11],
            [1455235200000, 82.40],
            [1455580800000, 91.00],
            [1455667200000, 108.40],
            [1455753600000, 97.35],
            [1455840000000, 100.91],
            [1456099200000, 96.46],
            [1456185600000, 95.85],
            [1456272000000, 99.56],
            [1456358400000, 105.75],
            [1456444800000, 105.07],
            [1456704000000, 97.77],
            //Mar 2016 
            [1456790400000, 18.81],
            [1456876800000, 18.85],
            [1456963200000, 12.42],
            [1457049600000, 10.89],
            [1457308800000, 95.16],
            [1457395200000, 93.97],
            [1457481600000, 105.24],
            [1457568000000, 12.82],
            [1457654400000, 26.82],
            [1457913600000, 30.49],
            [1458000000000, 28.33],
            [1458086400000, 36.09],
            [1458172800000, 37.78],
            [1458259200000, 37.60],
            [1458518400000, 42.09],
            [1458604800000, 40.75],
            [1458691200000, 38.06],
            [1458777600000, 35.30],
            [1459123200000, 33.53],
            [1459209600000, 44.77],
            [1459296000000, 50.53],
            [1459382400000, 44.95],
            //Apr 2016 
            [1459468800000, 49.91],
            [1459728000000, 45.29],
            [1459814400000, 37.80],
            [1459900800000, 45.69],
            [1459987200000, 40.28],
            [1460073600000, 39.15],
            [1460332800000, 36.10],
            [1460419200000, 43.09],
            [1460505600000, 51.72],
            [1460592000000, 53.20],
            [1460678400000, 59.00],
            [1460937600000, 66.61],
            [1461024000000, 53.93],
            [1461110400000, 52.67],
            [1461196800000, 59.14],
            [1461283200000, 18.77],
            [1461542400000, 23.15],
            [1461628800000, 108.14],
            [1461715200000, 105.84],
            [1461801600000, 91.02],
            [1461888000000, 93.01],
            // May 2016
            [1462147200000, 98.21],
            [1462233600000, 92.36],
            [1462320000000, 95.70],
            [1462406400000, 101.43],
            [1462492800000, 11.12],
            [1462752000000, 12.90],
            [1462838400000, 23.18],
            [1462924800000, 15.29]
        ]
    }, {
        name: '設備4',
        data: [
            //Feb 2016
            [1455753600000, 52.19],
            [1455840000000, 51.82],
            [1456099200000, 52.65],
            [1456185600000, 51.18],
            [1456272000000, 51.36],
            [1456358400000, 52.10],
            [1456444800000, 51.30],
            [1456704000000, 50.88],
            //Mar 2016
            [1456790400000, 52.58],
            [1456876800000, 52.95],
            [1456963200000, 52.35],
            [1457049600000, 52.03],
            [1457308800000, 51.03],
            [1457395200000, 51.65],
            [1457481600000, 52.84],
            [1457568000000, 52.05],
            [1457654400000, 53.07],
            [1457913600000, 53.17],
            [1458000000000, 53.59],
            [1458086400000, 54.35],
            [1458172800000, 54.66],
            [1458259200000, 53.49],
            [1458518400000, 53.86],
            [1458604800000, 54.07],
            [1458691200000, 53.97],
            [1458777600000, 54.21],
            [1459123200000, 53.54],
            [1459209600000, 54.71],
            [1459296000000, 55.05],
            [1459382400000, 55.23],
            //Apr 2016
            [1459468800000, 55.57],
            [1459728000000, 55.43],
            [1459814400000, 54.56]
        ]
    }
]
*/

var raw_data = new Array();
var line_1 = {
    type: 'spline',
    name: '設備1',
    data: [
        [1458259200000, 105.92],
        [1458518400000, 105.91],
        [1458604800000, 106.72],
        [1458691200000, 106.13],
        [1458777600000, 105.67],
        [1459123200000, 105.19],
        [1459209600000, 107.68],
        [1459296000000, 109.56]
    ]
};

var line_2 = {
    name: '設備2',
    data: [
        [1462492800000, 92.72],
        [1462752000000, 92.79],
        [1462838400000, 93.42],
        [1462924800000, 92.51],
        [1463011200000, 90.34],
        [1463097600000, 90.52],
        [1463356800000, 93.88],
        [1463443200000, 93.49],
        [1463529600000, 94.56],
        [1463616000000, 94.20],
        [1463702400000, 95.22],
        [1463961600000, 96.43],
        [1464048000000, 97.90],
        [1464134400000, 99.62],
        [1464220800000, 100.41],
        [1464307200000, 100.35],
        [1464652800000, 99.86],
        /* Jun 2016 */
        [1464739200000, 98.46]
    ]
};

var line_3 = {
    name: '設備3',
    data: [
        [1454284800000, 52.00],
        [1454371200000, 64.65],
        [1454457600000, 26.95],
        [1454544000000, 108.01],
        [1454630400000, 83.57],
        [1454889600000, 82.74],
        [1454976000000, 78.11],
        [1455062400000, 84.12],
        [1455148800000, 83.11],
        [1455235200000, 82.40],
        [1455580800000, 91.00],
        [1455667200000, 108.40],
        [1455753600000, 97.35],
        [1455840000000, 100.91],
        [1456099200000, 96.46],
        [1456185600000, 95.85],
        [1456272000000, 99.56],
        [1456358400000, 105.75],
        [1456444800000, 105.07],
        [1456704000000, 97.77],
        /* Mar 2016 */
        [1456790400000, 18.81],
        [1456876800000, 18.85],
        [1456963200000, 12.42],
        [1457049600000, 10.89],
        [1457308800000, 95.16],
        [1457395200000, 93.97],
        [1457481600000, 105.24],
        [1457568000000, 12.82],
        [1457654400000, 26.82],
        [1457913600000, 30.49],
        [1458000000000, 28.33],
        [1458086400000, 36.09],
        [1458172800000, 37.78],
        [1458259200000, 37.60],
        [1458518400000, 42.09],
        [1458604800000, 40.75],
        [1458691200000, 38.06],
        [1458777600000, 35.30],
        [1459123200000, 33.53],
        [1459209600000, 44.77],
        [1459296000000, 50.53],
        [1459382400000, 44.95],
        /* Apr 2016 */
        [1459468800000, 49.91],
        [1459728000000, 45.29],
        [1459814400000, 37.80],
        [1459900800000, 45.69],
        [1459987200000, 40.28],
        [1460073600000, 39.15],
        [1460332800000, 36.10],
        [1460419200000, 43.09],
        [1460505600000, 51.72],
        [1460592000000, 53.20],
        [1460678400000, 59.00],
        [1460937600000, 66.61],
        [1461024000000, 53.93],
        [1461110400000, 52.67],
        [1461196800000, 59.14],
        [1461283200000, 18.77],
        [1461542400000, 23.15],
        [1461628800000, 108.14],
        [1461715200000, 105.84],
        [1461801600000, 91.02],
        [1461888000000, 93.01],
        /* May 2016 */
        [1462147200000, 98.21],
        [1462233600000, 92.36],
        [1462320000000, 95.70],
        [1462406400000, 101.43],
        [1462492800000, 11.12],
        [1462752000000, 12.90],
        [1462838400000, 23.18],
        [1462924800000, 15.29]
    ]
};

var line_4 = {
    name: '設備4',
    data: [
        /* Feb 2016 */
        [1455753600000, 52.19],
        [1455840000000, 51.82],
        [1456099200000, 52.65],
        [1456185600000, 51.18],
        [1456272000000, 51.36],
        [1456358400000, 52.10],
        [1456444800000, 51.30],
        [1456704000000, 50.88],
        /* Mar 2016 */
        [1456790400000, 52.58],
        [1456876800000, 52.95],
        [1456963200000, 52.35],
        [1457049600000, 52.03],
        [1457308800000, 51.03],
        [1457395200000, 51.65],
        [1457481600000, 52.84],
        [1457568000000, 52.05],
        [1457654400000, 53.07],
        [1457913600000, 53.17],
        [1458000000000, 53.59],
        [1458086400000, 54.35],
        [1458172800000, 54.66],
        [1458259200000, 53.49],
        [1458518400000, 53.86],
        [1458604800000, 54.07],
        [1458691200000, 53.97],
        [1458777600000, 54.21],
        [1459123200000, 53.54],
        [1459209600000, 54.71],
        [1459296000000, 55.05],
        [1459382400000, 55.23],
        /* Apr 2016 */
        [1459468800000, 55.57],
        [1459728000000, 55.43],
        [1459814400000, 54.56]
    ]
};


var line_total_time = new Array();
var line_total_data = new Array();
var line_total_data_value = new Array();

//add all time item
for (i = 0; i < raw_data.length; i++) {
    line_total_time.push.apply(line_total_time, raw_data[i]["data"]);
}

var temp_time = new Array();
for (i = 0; i < line_total_time.length; i++) {
    temp_time.push(line_total_time[i][0]);
}
temp_time = temp_time.sort();
//console.log(temp_time.length);
// remove all duplicate element
var line_total_data_time = temp_time.filter(function(x, i, self) {
    return self.indexOf(x) === i;
});


for (i = 0; i < line_total_data_time.length; i++) {
    line_total_data_value.push(0);
    for(j = 0 ;j < raw_data.length; j++){
        for(k=0 ;k < raw_data[j]["data"].length; k++){
            if (line_total_data_time[i] == raw_data[j]["data"][k][0]){

                line_total_data_value[i] += raw_data[j]["data"][k][1];
            }
        }
    }
}

for (i = 0; i < line_total_data_time.length; i++) {
    line_total_data[i].push(line_total_data_time[i]);
    line_total_data[i].push(line_total_data_value[i]);
}
var line_total = {
    name: '總耗電',
    data: line_total_data
};




raw_data.push(line_1);
raw_data.push(line_2);
raw_data.push(line_3);
raw_data.push(line_4);
raw_data.push(line_total);


//raw_data.push(line_total);

//console.log(unique_temp_time.length);
</script>
